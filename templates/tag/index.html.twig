{% extends 'base.html.twig' %}

{% block title %}Hello TagController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

    {# Formulaire pour ajouter un nouveau tag #}
    <div class="mt-3">
        <h3>Ajouter un Tag</h3>
        <form action="{{ path('app_tag_new') }}" method="post" class="d-flex">
            <input type="text" name="name" class="form-control me-2" placeholder="Nom du tag" required>
            <button type="submit" class="btn btn-primary">Ajouter</button>
        </form>
    </div>

    <div class="mt-3">
        <h3>Liste des Tags</h3>
        <ul class="list-group">
            {% for tag in tags %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ tag.name }}
                    <div>
                        <a href="{{ path('app_tag_edit', {id: tag.id}) }}" class="btn btn-warning btn-sm">Modifier</a>
                        <form method="post" action="{{ path('app_tag_delete', {id: tag.id}) }}" style="display:inline;" onsubmit="return confirm('Voulez-vous vraiment supprimer ce tag ?');">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ tag.id) }}">
                            <button class="btn btn-danger btn-sm">Supprimer</button>
                        </form>
                    </div>
                </li>
            {% else %}
                <li class="list-group-item">Aucun tag trouv√©.</li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}
